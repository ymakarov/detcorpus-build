# Сборка и запуск корпуса в docker #

## Индексация корпуса ##


- Создание docker образа для индексации текстов:

```
bin/build-image
```

- Индексация текстов 

```
bin/docker-make-index /tmp/in /tmp/out
```

Скрипт принимает два параметра. В первом директория откуда брать файлы. Во втором директория, куда класть архив с индексом.

## Запуск веб сервера с построенным индексом ##

- Создаем docker образ:

```
cd docker/web
docker build -t manatee-web .
```

- Запускаем его и делаем доступным на 80 порту

```
bin/docker-web /tmp/out
```

Входной параметр - полный путь до директории, где лежит распакованный файл с экспортом.

Контайнер запустится в detached режиме и к нему можно будет подключиться командой:

```
docker exec -it [имя контейнерa] /bin/bash
```

Имя контейнера можно узнать командой:

```
docker ps
```
